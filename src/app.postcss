@import 'tailwindcss/base';
@import 'fonts.postcss';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

@layer base {
	html {
		scroll-padding-top: theme(width.16);
		scroll-behavior: smooth;
		scrollbar-gutter: stable;

		color-scheme: light;

		--scrollbar-bg: theme(colors.white);
		--scrollbar-thumb: theme(colors.gray.400);

		--background: theme(colors.white);
		--foreground: theme(colors.gray.950);

		--muted: theme(colors.gray.100);
		--muted-foreground: theme(colors.gray.500);

		--border: theme(colors.gray.200);
		--contrast: theme(colors.gray.400);

		--primary: theme(colors.gray.900);
		--primary-foreground: theme(colors.gray.100);

		--secondary: theme(colors.gray.100);
		--secondary-foreground: theme(colors.gray.900);

		--accent: theme(colors.blue.600);
		--accent-foreground: theme(colors.blue.50);
	}

	html.dark {
		color-scheme: dark;

		--scrollbar-bg: theme(colors.black);
		--scrollbar-thumb: theme(colors.gray.600);

		--background: theme(colors.black);
		--foreground: theme(colors.gray.50);

		--muted: theme(colors.gray.800);
		--muted-foreground: theme(colors.gray.400);

		--border: theme(colors.gray.800);
		--contrast: theme(colors.gray.700);

		--primary: theme(colors.gray.50);
		--primary-foreground: theme(colors.gray.900);

		--secondary: theme(colors.gray.900);
		--secondary-foreground: theme(colors.gray.50);

		--accent: theme(colors.blue.400);
		--accent-foreground: theme(colors.blue.900);
	}

	html,
	body {
		@apply bg-background text-foreground;

		overscroll-behavior-y: none;
	}

	* {
		@apply border-border;

		scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-bg);
		scrollbar-width: thin;
	}

	::-webkit-scrollbar {
		width: 4px;
	}

	::-webkit-scrollbar-track {
		background: var(--scrollbar-bg);
	}

	::-webkit-scrollbar-thumb {
		background-color: var(--scrollbar-thumb);
	}

	h1,
	h2,
	h3 {
		@apply font-display;
	}

	@keyframes highlight-light {
		0% {
			@apply bg-blue-100;
		}
		100% {
			@apply bg-white;
		}
	}

	@keyframes highlight-dark {
		0% {
			@apply bg-slate-900;
		}
		100% {
			@apply bg-black;
		}
	}

	:target {
		animation: highlight-light 3s ease-out;
	}

	.dark :target {
		animation: highlight-dark 3s ease-out;
	}

	.no-transition {
		transition: none !important;
	}

	.no-transition * {
		transition: none !important;
	}

	@media (prefers-reduced-motion: reduce) {
		* {
			transition: none !important;
			animation-delay: 0ms !important;
			animation-duration: 1ms !important;
		}
	}
}

@layer components {
	.focusable {
		@apply select-none overflow-hidden rounded-lg border bg-background outline-none transition focus-visible:border-contrast disabled:cursor-default disabled:bg-muted disabled:text-muted-foreground disabled:focus-visible:border-border;
	}

	.interactable {
		@apply focusable cursor-pointer focus-visible:outline-contrast hv:border-contrast disabled:hv:border-border;
	}

	.icon-interactable {
		@apply -m-1 ml-1 p-1 text-muted-foreground transition hv:text-foreground;
	}

	.alert {
		@apply rounded-lg border bg-secondary text-secondary-foreground;
	}

	.link {
		@apply rounded text-accent underline decoration-transparent underline-offset-4 outline-none outline-offset-4 transition-colors focus-visible:outline-current hv:decoration-current;
	}

	.nav-item {
		@apply rounded-lg border p-2 transition-colors sm:rounded-t-none sm:border-t-0;
	}

	.nav-item-interactive {
		@apply nav-item outline-none focus-visible:outline-contrast hv:border-contrast;
	}
}
